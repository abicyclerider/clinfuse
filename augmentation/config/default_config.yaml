# Default configuration for Entity Resolution Data Augmentation System

facility_distribution:
  num_facilities: 5
  strategy: "chronological_switching"

  # Weighted distribution of patients across facilities
  # 40% of patients visit only 1 facility
  # 30% visit 2 facilities
  # 15% visit 3 facilities, etc.
  facility_count_weights:
    1: 0.40
    2: 0.30
    3: 0.15
    4: 0.10
    5: 0.05

  # For patients visiting multiple facilities:
  # 60% of encounters at primary facility
  # 40% distributed across secondary facilities
  primary_facility_weight: 0.60

confusable_groups:
  total_pairs: 0
  type_weights:
    twin: 0.40
    parent_child: 0.30
    sibling: 0.30

error_injection:
  # 100% of patient records will have at least one error
  global_error_rate: 1.0

  # 70% chance of multiple errors (given at least one error)
  multiple_errors_probability: 0.7

  # Error count bounds for multi-error records
  min_errors: 3
  max_errors: 5

  # Relative weights for error types
  # formatting_error set to 0 because Splink normalizes case/whitespace
  error_type_weights:
    name_variation: 0.30      # Nicknames, typos, maiden names
    address_error: 0.20       # Abbreviations, apartment format, full change
    date_variation: 0.15      # Off-by-one, digit transposition
    ssn_error: 0.05           # Digit transposition, format
    formatting_error: 0.00    # Capitalization, whitespace (neutralized by Splink)
    missing_data: 0.30        # Field set to empty/null

# Paths (will be set via CLI or programmatically)
paths:
  input_dir: "synthea_runner/output/synthea_raw/csv"
  output_dir: "output/augmented"

# Random seed for reproducibility
random_seed: 42

# Run validation after augmentation
validate_output: true
